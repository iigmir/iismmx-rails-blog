<style> .checkarea td *{display:inline-block;} button{margin: 1rem;} </style>
<script>
    $(".html_panel button").click(function() 
    {
        var input_attr = $(this).attr("id");
        
        var ia_element;
        switch (input_attr)
        {
          case 'a':
            ia_element = "<"+input_attr+" href='https://example.com'> foobar </"+input_attr+">";
            break;
          case 'ol':
            ia_element = "<"+input_attr+"> <li></li> </"+input_attr+">";
            break;
          case 'ul':
            ia_element = "<"+input_attr+"> <li></li> </"+input_attr+">";
            break;
          default:
            ia_element = "<"+input_attr+">foobar</"+input_attr+">";
        }

        $("textarea").val( $("textarea").val()+ia_element );
    });
</script>

<% if user_signed_in? %>
    <%= form_for @article do |m| %>
    <main>
      <table>
        <tr>
          <td> <%= m.label :title %> </td>
          <td> <%= m.text_field :title, :required => true %> </td>
        </tr>
        <tr>
          <td> <%= m.label :context %> </td>
          <td> <%= m.text_area :context, size: '60x20', :required => true %> </td>
        </tr>
        <tr class="checkarea">
          <td colspan="2">
            <%= render "htmlpanel" %>
          </td>
        </tr>
        <tr id="highrisk">
          <td> <%= m.submit "Submit article" %> </td>
          <td>
              <%= link_to 'Cancel', @article %>
          </td>
        </tr>
      </table>
    </main>
    <% end %>
<% else %>
  <p class="text-center">
  Hello there guest, to do actions in this page,
   you need to <%#= link_to "sign up,", new_user_registration_path %> <%= link_to "login", new_user_session_path  %>,
   or you want to <%= link_to 'go home',articles_url,method: :get %>?
  </p>
<% end %>
